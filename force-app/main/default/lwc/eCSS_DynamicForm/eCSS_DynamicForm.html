<template>
    <template if:true={isLoading}>
        <lightning-spinner size="medium" alternative-text="Saving..."></lightning-spinner>
    </template>
    <template if:true={isSuccess}>
        <div class="slds-notify slds-notify_alert slds-theme_success slds-m-bottom_medium" role="alert">
            <span class="slds-assistive-text">Success</span>
            <h2>Record saved successfully!</h2>
        </div>
    </template>
    <template if:true={errorMessage}>
        <div class="slds-notify slds-notify_alert slds-theme_error slds-m-bottom_medium" role="alert">
            <span class="slds-assistive-text">Error</span>
            <h2>{errorMessage}</h2>
        </div>
    </template>
    <template if:true={fieldsList}>
        <lightning-record-edit-form
            object-api-name={objectName}
            record-id={recordId}
            onsuccess={handleSuccess}
            onsubmit={handleSubmit}
            onerror={handleError}>
            <!--onsubmit={handleSubmit}-->

            <template for:each={fieldsList} for:item="field">
                <lightning-input-field
                    key={field}
                    field-name={field}>
                </lightning-input-field>
            </template>
            <div class="slds-m-top_medium">
                <lightning-button type="submit" variant="brand" label="Save"></lightning-button>
            </div>
        </lightning-record-edit-form>
    </template>
</template>