<template>
	<div class="modal-container">
		<!-- Modal/Popup Box LWC starts here -->
		<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
			aria-describedby="modal-content-id-1" class="aldar-modal slds-modal slds-fade-in-open">
			<div class="slds-modal__container">
				<!-- Modal/Popup Box LWC header here -->
				<header class="slds-modal__header">
					<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                  <lightning-icon icon-name="utility:close"
                      alternative-text="close"
                      variant="inverse"
                      size="small" ></lightning-icon>
                  <span class="slds-assistive-text">Close</span>
              </button>
					<h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Manage Invoices</h2>
				</header>
				<!-- Modal/Popup Box LWC body starts here -->
				<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

					<div class="main-container" style="height: 1000px;">

						<div class="spinner-container" if:true={showSpinner}>
							<lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
						</div>

						<iframe scrolling="auto" style="width:100%;height:100%;border: 1px solid #ccc;"
							src={brokerInvoiceURL}></iframe>
						<!-- <iframe src="https://prdev-aldarprdev.cs81.force.com/pr2/DocumentPDFViewer?docId=a1C26000002Bcla" ></iframe> -->
						<div class="slds-grid slds-gutters" style="margin-top:1rem;">
							<div class="slds-col">
								<lightning-textarea label="Comments Trails" disabled value={comments}></lightning-textarea>
								&nbsp;
							</div>
							<div class="slds-col" if:true={enableAction}>
								<lightning-textarea class="inputComments" label="Comments" required={commentRequired}
									placeholder="Comments"></lightning-textarea>
							</div>
	
						</div>
					</div>
					
				</div>
				<!-- Modal/Popup Box LWC footer starts here -->

				<footer class="slds-modal__footer">
					<template if:false={showSpinner}>
						<button if:true={enableAction} class="aldar-btn" onclick={handleStatusChange} name="Rejected" title="Rejected">Reject</button>
						<button if:true={enableAction} class="aldar-btn aldar-btn-black-bg"  onclick={handleStatusChange} name="Pending Invoice Verification" title="Pending Invoice Verification">Accept</button>
						<button class="aldar-btn aldar-btn-black-bg"  onclick={handleDownload} name="Download" title="Download">Download</button>
					</template>
				</footer>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
	</div>
</template>