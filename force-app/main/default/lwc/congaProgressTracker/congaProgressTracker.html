<template>
  <lightning-card title="Document Generator" class="custom-card">
    <div class="slds-p-around_medium">

      <!-- Error Message -->
      <template if:true={errorMessage}>
        <div class="slds-text-color_error slds-text-heading_small slds-m-bottom_small">
          âŒ {errorMessage}
        </div>
      </template>

      <!-- Download Section -->
      <template if:true={downloadUrl}>
        <div class="slds-text-align_center slds-m-vertical_medium">
          <lightning-icon icon-name="action:download" size="large" alternative-text="Download Ready"
                          class="slds-m-bottom_small green-glow"></lightning-icon>
          <p class="slds-text-heading_medium slds-text-color_success slds-m-bottom_small">
            ğŸ‰ Your document is ready!
          </p>
          <lightning-button
            label="Download Document"
            variant="brand"
            icon-name="utility:download"
            onclick={handleDownload}
          ></lightning-button>
        </div>
      </template>

      <!-- In-Progress Status -->
      <template if:true={isInProgress}>
        <lightning-progress-bar value={progressValue} size="large" variant="brand"></lightning-progress-bar>
        <p class="slds-m-top_small slds-text-body_regular">
          Status: {status}
        </p>
      </template>

    </div>
  </lightning-card>
</template>