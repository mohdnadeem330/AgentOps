<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Add4HoursToBusinessHours</name>
        <label>Add 4 Hours To Business Hours</label>
        <locationX>50</locationX>
        <locationY>1883</locationY>
        <actionName>DateTimeUtility</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>CreateTask2</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>increment</name>
            <value>
                <elementReference>Task2HoursToBeAdded</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>methodName</name>
            <value>
                <stringValue>BusinessHours.add</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>businessHoursName</name>
            <value>
                <elementReference>BusinessHoursName</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dateTimeString</name>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DateTimeUtility</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>DueDate</assignToReference>
            <name>resultDT</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Add4HoursToBusinessHours0</name>
        <label>Add 4 Hours To Business Hours</label>
        <locationX>578</locationX>
        <locationY>2242</locationY>
        <actionName>DateTimeUtility</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>CreateTask3</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>increment</name>
            <value>
                <elementReference>Task3HoursToBeAdded</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>methodName</name>
            <value>
                <stringValue>BusinessHours.add</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>businessHoursName</name>
            <value>
                <elementReference>BusinessHoursName</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dateTimeString</name>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DateTimeUtility</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>DueDate</assignToReference>
            <name>resultDT</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Add4HoursToBusinessHours412</name>
        <label>Add 4 Hours To Business Hours</label>
        <locationX>793</locationX>
        <locationY>2045</locationY>
        <actionName>DateTimeUtility</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>CreateTask4</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>increment</name>
            <value>
                <elementReference>Task2HoursToBeAdded</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>methodName</name>
            <value>
                <stringValue>BusinessHours.add</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>businessHoursName</name>
            <value>
                <elementReference>BusinessHoursName</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dateTimeString</name>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DateTimeUtility</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>DueDate</assignToReference>
            <name>resultDT</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>EmailToSM</name>
        <label>Email To SM</label>
        <locationX>417</locationX>
        <locationY>360</locationY>
        <actionName>Lead.NewLeadAssignedToSM</actionName>
        <actionType>emailAlert</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>getLeadRelatedToSMTask.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Lead.NewLeadAssignedToSM</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>nextday</name>
        <label>next day</label>
        <locationX>314</locationX>
        <locationY>2243</locationY>
        <actionName>DateTimeUtility</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>CreateTask3</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>methodName</name>
            <value>
                <stringValue>BusinessHours.nextStartDate</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>businessHoursName</name>
            <value>
                <elementReference>BusinessHoursName</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>dateTimeString</name>
            <value>
                <elementReference>Tomorrow</elementReference>
            </value>
        </inputParameters>
        <nameSegment>DateTimeUtility</nameSegment>
        <offset>0</offset>
        <outputParameters>
            <assignToReference>DueDate</assignToReference>
            <name>resultDT</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>SendNotificationToManager</name>
        <label>Send Notification To Manager</label>
        <locationX>1985</locationX>
        <locationY>1415</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>UpdateLeadOwner_0</targetReference>
        </connector>
        <faultConnector>
            <targetReference>UpdateLeadOwner_0</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>CustomNotificationTypeID.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <elementReference>SLANotificationTemplate</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <stringValue>SLA is breached for a task</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>RecipientID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>GetLeadRelatedToTheTask.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>SendSMNotification</name>
        <label>Send SM Notification</label>
        <locationX>746</locationX>
        <locationY>175</locationY>
        <actionName>customNotificationAction</actionName>
        <actionType>customNotificationAction</actionType>
        <connector>
            <targetReference>UserOwnerHasMobileNumber</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>customNotifTypeId</name>
            <value>
                <elementReference>SMCustomNotificationId.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <elementReference>SMNotificationBodyTemplate</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>title</name>
            <value>
                <stringValue>New Lead</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientIds</name>
            <value>
                <elementReference>NotificationSMRecipientIds</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>targetId</name>
            <value>
                <elementReference>getLeadRelatedToSMTask.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>customNotificationAction</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>SendSMS</name>
        <label>Send SMS</label>
        <locationX>285</locationX>
        <locationY>1399</locationY>
        <actionName>SmsNotificationAPI</actionName>
        <actionType>apex</actionType>
        <dataTypeMappings>
            <typeName>T__record</typeName>
            <typeValue>Lead</typeValue>
        </dataTypeMappings>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>destination</name>
            <value>
                <elementReference>LeadRecord.MobilePhone</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>record</name>
            <value>
                <elementReference>LeadRecord</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>smsBody</name>
            <value>
                <elementReference>SMSBody</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SmsNotificationAPI</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>SendSMSToSM</name>
        <label>Send SMS To SM</label>
        <locationX>439</locationX>
        <locationY>173</locationY>
        <actionName>SmsNotificationAPI</actionName>
        <actionType>apex</actionType>
        <dataTypeMappings>
            <typeName>T__record</typeName>
            <typeValue>Lead</typeValue>
        </dataTypeMappings>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>destination</name>
            <value>
                <elementReference>getLeadRelatedToSMTask.Owner:User.MobilePhone</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>record</name>
            <value>
                <elementReference>getLeadRelatedToSMTask</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>smsBody</name>
            <value>
                <elementReference>SMSMSBody</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SmsNotificationAPI</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>WhatsappQualificationSMS</name>
        <label>WhatsappQualificationSMS</label>
        <locationX>516</locationX>
        <locationY>1361</locationY>
        <actionName>BitlyShortenURL</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>SMOrCCABusinessHours</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>destination</name>
            <value>
                <elementReference>LeadRecord.MobilePhone</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>lead</name>
            <value>
                <elementReference>LeadRecord</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>smsBody</name>
            <value>
                <elementReference>WhatsAppLinkSMS</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>url</name>
            <value>
                <elementReference>WhatsAppLink</elementReference>
            </value>
        </inputParameters>
        <nameSegment>BitlyShortenURL</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>When Customer is not reachable/busy for Day 1 Call 1 &amp; Call 2 and Day 2 Call 1</description>
        <name>WhenCustomerIsNotReachableBusy</name>
        <label>When Customer Is Not Reachable/Busy</label>
        <locationX>749</locationX>
        <locationY>994</locationY>
        <actionName>Lead.WhenCustomerIsNotReachableBusy</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>MobileNumberWithCountryCode1</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>LeadRecord.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Lead.WhenCustomerIsNotReachableBusy</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>When Customer Is Not Reachable/Busy In Arabic</description>
        <name>WhenCustomerIsNotReachableBusyInArabic</name>
        <label>When Customer Is Not Reachable/Busy In Arabic</label>
        <locationX>448</locationX>
        <locationY>1033</locationY>
        <actionName>Lead.WhenCustomerIsNotReachableBusyInArabic</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>MobileNumberWithCountryCode1</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>LeadRecord.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Lead.WhenCustomerIsNotReachableBusyInArabic</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <apiVersion>54.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>AddManagerId</name>
        <label>Add Manager Id</label>
        <locationX>1898</locationX>
        <locationY>1054</locationY>
        <assignmentItems>
            <assignToReference>RecipientID</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>GetLeadRelatedToTheTask.Owner:User.ManagerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>IsTheOwnerHasAManager</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AssignSMRecipients</name>
        <label>Assign SM Recipients</label>
        <locationX>1242</locationX>
        <locationY>50</locationY>
        <assignmentItems>
            <assignToReference>NotificationSMRecipientIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SMCustomNotificationId</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>to increase Task Count</description>
        <name>IncreaseCount</name>
        <label>Increase Count</label>
        <locationX>446</locationX>
        <locationY>2003</locationY>
        <assignmentItems>
            <assignToReference>TasksCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>GetTasksInSameDay</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>HowManyTasksFounded</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>MobileNumberWithCountryCode1</name>
        <label>Mobile Number With Country Code</label>
        <locationX>674</locationX>
        <locationY>1201</locationY>
        <assignmentItems>
            <assignToReference>MobileNumberWithCountryCode</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>LeadRecord.MobileCountryCode__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>MobileNumberWithCountryCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LeadRecord.MobileNumber1__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>LeadMobileExist</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SelectBusinessHoursName</name>
        <label>Select Business Hours Name</label>
        <locationX>553</locationX>
        <locationY>1613</locationY>
        <assignmentItems>
            <assignToReference>BusinessHoursName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Aldar Business Hours</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>TaskStatus</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>TaskType1</name>
        <label>Task Type</label>
        <locationX>268</locationX>
        <locationY>2679</locationY>
        <assignmentItems>
            <assignToReference>TaskType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Day 1 - Task 2</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Task_Number</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>TaskType1_0</name>
        <label>Task Type</label>
        <locationX>593</locationX>
        <locationY>2542</locationY>
        <assignmentItems>
            <assignToReference>TaskType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Day 2 - Task 1</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Task_Number</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>TaskType1_0_0_0</name>
        <label>Task Type</label>
        <locationX>1067</locationX>
        <locationY>2757</locationY>
        <assignmentItems>
            <assignToReference>TaskType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.TaskType__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>UpdateLeadTaskType</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>TaskType410</name>
        <label>Task Type</label>
        <locationX>785</locationX>
        <locationY>2491</locationY>
        <assignmentItems>
            <assignToReference>TaskType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Day 2 - Task 2</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <decisions>
        <name>CheckIfManualCreation</name>
        <label>Check If Manual Creation</label>
        <locationX>1233</locationX>
        <locationY>171</locationY>
        <defaultConnector>
            <targetReference>AssignSMRecipients</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CreatedBySM</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>getLeadRelatedToSMTask.CreatedById</elementReference>
                </rightValue>
            </conditions>
            <label>Created By SM</label>
        </rules>
    </decisions>
    <decisions>
        <name>EmailLanguage</name>
        <label>Email Language</label>
        <locationX>936</locationX>
        <locationY>823</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SendArabicEmail</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LeadRecord.LanguagePreference__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Arabic</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CustomerResponse__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Not Reachable</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.Team__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>LSQ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>LeadEmailExist_0</targetReference>
            </connector>
            <label>Send Arabic Email</label>
        </rules>
        <rules>
            <name>SendEnglishEmail</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CustomerResponse__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Not Reachable</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadRecord.LanguagePreference__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Arabic</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.Team__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>LSQ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>LeadEmailExist</targetReference>
            </connector>
            <label>Send English Email</label>
        </rules>
        <rules>
            <name>UpdateTaskAsCompleted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CustomerResponse__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateTaskAsCompleted1</targetReference>
            </connector>
            <label>Update Task As Completed</label>
        </rules>
    </decisions>
    <decisions>
        <name>HowManyTasksFounded</name>
        <label>How Many Tasks Founded</label>
        <locationX>446</locationX>
        <locationY>2123</locationY>
        <defaultConnector>
            <targetReference>Add4HoursToBusinessHours0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Two</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>TasksCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>2.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>nextday</targetReference>
            </connector>
            <label>Two</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsCustomerNotReachable</name>
        <label>Is Customer Not Reachable?</label>
        <locationX>1243</locationX>
        <locationY>515</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>(1 OR 2) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CustomerResponse__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Customer Not Reachable</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CustomerResponse__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetLeadStatus</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsCustomerResponseIsNull</name>
        <label>Is Customer Response Is Null?</label>
        <locationX>1992</locationX>
        <locationY>860</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CustomerResponse__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>GetAgentQueueId.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.ProfileName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Contact Centre Agent</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetLeadRelatedToTheTask</targetReference>
            </connector>
            <label>Null</label>
        </rules>
        <rules>
            <name>NullButOwnerIsAgentQueue</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.CustomerResponse__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>GetAgentQueueId.Id</elementReference>
                </rightValue>
            </conditions>
            <label>Null But Owner Is Agent Queue</label>
        </rules>
    </decisions>
    <decisions>
        <name>IsTheOwnerHasAManager</name>
        <label>Is The Owner Has A Manager?</label>
        <locationX>1891</locationX>
        <locationY>1209</locationY>
        <defaultConnector>
            <targetReference>CustomNotificationTypeID</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>No</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>RecipientID</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner:User.ManagerId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateLeadOwner_0</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>LeadEmailExist</name>
        <label>Lead Email Exist?</label>
        <locationX>931</locationX>
        <locationY>988</locationY>
        <defaultConnector>
            <targetReference>MobileNumberWithCountryCode1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LeadRecord.Email</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadRecord.Email</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>WhenCustomerIsNotReachableBusy</targetReference>
            </connector>
            <label>Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>LeadEmailExist_0</name>
        <label>Lead Email Exist?</label>
        <locationX>657</locationX>
        <locationY>829</locationY>
        <defaultConnector>
            <targetReference>MobileNumberWithCountryCode1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Exist_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LeadRecord.Email</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadRecord.Email</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>WhenCustomerIsNotReachableBusyInArabic</targetReference>
            </connector>
            <label>Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>LeadMobileExist</name>
        <label>Lead Mobile Exist?</label>
        <locationX>869</locationX>
        <locationY>1366</locationY>
        <defaultConnector>
            <targetReference>SMOrCCABusinessHours</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Exist1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>MobileNumberWithCountryCode</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>MobileNumberWithCountryCode</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>WhatsappQualificationSMS</targetReference>
            </connector>
            <label>Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>LeadOwnerHasEmail</name>
        <label>Lead Owner Has Email?</label>
        <locationX>567</locationX>
        <locationY>362</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getLeadRelatedToSMTask.Owner:User.Email</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>getLeadRelatedToSMTask.Owner:User.Email</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>EmailToSM</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>LeadStatus</name>
        <label>Lead Status is New Lead</label>
        <locationX>1330</locationX>
        <locationY>3018</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>NewLead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LeadRecord.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>New Lead</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateLeadStatusToInProgress</targetReference>
            </connector>
            <label>New Lead</label>
        </rules>
    </decisions>
    <decisions>
        <name>SMOrCCABusinessHours</name>
        <label>SM Or CCA Business Hours</label>
        <locationX>664</locationX>
        <locationY>1513</locationY>
        <defaultConnector>
            <targetReference>TaskStatus</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SMBusinessHours</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Owner:User.ProfileName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Sales Manager</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SelectBusinessHoursName</targetReference>
            </connector>
            <label>SM Business Hours</label>
        </rules>
    </decisions>
    <decisions>
        <name>SMTask1</name>
        <label>SM Task</label>
        <locationX>1677</locationX>
        <locationY>212</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SMTask0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.OwnerId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Record.CreatedById</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getLeadRelatedToSMTask</targetReference>
            </connector>
            <label>SM Task</label>
        </rules>
    </decisions>
    <decisions>
        <name>TaskStatus</name>
        <label>Task Status</label>
        <locationX>669</locationX>
        <locationY>1758</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Task2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add4HoursToBusinessHours</targetReference>
            </connector>
            <label>Task2</label>
        </rules>
        <rules>
            <name>Task3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>2.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetTasksInSameDay</targetReference>
            </connector>
            <label>Task3</label>
        </rules>
        <rules>
            <name>UpdateLastTaskStatus</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>3.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Task_Number</targetReference>
            </connector>
            <label>Update Last Task Status</label>
        </rules>
        <rules>
            <name>Task_4</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.TaskNumber__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>3.0</numberValue>
                </rightValue>
            </conditions>
            <label>Task 4</label>
        </rules>
    </decisions>
    <decisions>
        <name>UserOwnerHasMobileNumber</name>
        <label>User Owner Has Mobile Number?</label>
        <locationX>568</locationX>
        <locationY>165</locationY>
        <defaultConnector>
            <targetReference>LeadOwnerHasEmail</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>getLeadRelatedToSMTask.Owner:User.MobilePhone</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SendSMSToSM</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <description>Whatsapp Qualification</description>
    <environments>Default</environments>
    <formulas>
        <name>ISNEW</name>
        <dataType>Boolean</dataType>
        <expression>ISNEW()</expression>
    </formulas>
    <formulas>
        <name>LeadNumberFromPreviousTask</name>
        <dataType>String</dataType>
        <expression>TRIM(LEFT({!$Record.Subject}, FIND(&quot;-&quot;, {!$Record.Subject})-1))</expression>
    </formulas>
    <formulas>
        <name>NowPlus4Hrs</name>
        <dataType>DateTime</dataType>
        <expression>Now() + (1/24 * Value({!$Label.Task3}))</expression>
    </formulas>
    <formulas>
        <name>Task2HoursToBeAdded</name>
        <dataType>Number</dataType>
        <expression>VALUE({!$Label.Task2}) * 3600000</expression>
        <scale>10</scale>
    </formulas>
    <formulas>
        <name>Task3HoursToBeAdded</name>
        <dataType>Number</dataType>
        <expression>VALUE({!$Label.Task3}) * 3600000</expression>
        <scale>10</scale>
    </formulas>
    <formulas>
        <name>Task4HoursToBeAdded</name>
        <dataType>Number</dataType>
        <expression>VALUE({!$Label.Task4}) * 3600000</expression>
        <scale>10</scale>
    </formulas>
    <formulas>
        <name>Today</name>
        <dataType>Date</dataType>
        <expression>Today()</expression>
    </formulas>
    <formulas>
        <name>Tomorrow</name>
        <dataType>DateTime</dataType>
        <expression>DATETIMEVALUE(Today()+1)</expression>
    </formulas>
    <interviewLabel>Customer Not Reachable Create Activity Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Customer Not Reachable Create Activity Flow</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <description>create a new task to contact the customer again</description>
        <name>CreateTask2</name>
        <label>Create Task 2</label>
        <locationX>71</locationX>
        <locationY>2673</locationY>
        <assignRecordIdToReference>Task2Object.Id</assignRecordIdToReference>
        <connector>
            <targetReference>TaskType1</targetReference>
        </connector>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>DueDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <stringValue> If Task 1 is customer not reachable then create activity Day 1 Task 2.</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsReminderSet</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Priority</field>
            <value>
                <stringValue>Normal</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ReminderDateTime</field>
            <value>
                <elementReference>DueDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>{!LeadNumberFromPreviousTask} - Day 1 - Task 2</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskNumber__c</field>
            <value>
                <numberValue>2.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskType__c</field>
            <value>
                <stringValue>Day 1 - Task 2</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhoId</field>
            <value>
                <elementReference>$Record.WhoId</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
    </recordCreates>
    <recordCreates>
        <description>To create task 3</description>
        <name>CreateTask3</name>
        <label>Create Task 3</label>
        <locationX>446</locationX>
        <locationY>2459</locationY>
        <connector>
            <targetReference>TaskType1_0</targetReference>
        </connector>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>DueDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <stringValue> If Task 2 on Day 1 activity is customer not reachable then create activity Day 2 Task 1</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsReminderSet</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Priority</field>
            <value>
                <stringValue>Normal</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ReminderDateTime</field>
            <value>
                <elementReference>DueDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>{!LeadNumberFromPreviousTask} - Day 2 - Task 1</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskNumber__c</field>
            <value>
                <numberValue>3.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskType__c</field>
            <value>
                <stringValue>Day 2 - Task 1</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhoId</field>
            <value>
                <elementReference>$Record.WhoId</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <description>To create task 4</description>
        <name>CreateTask4</name>
        <label>Create Task 4</label>
        <locationX>792</locationX>
        <locationY>2303</locationY>
        <connector>
            <targetReference>TaskType410</targetReference>
        </connector>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>DueDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Description</field>
            <value>
                <stringValue>If Task 3 on Day 2 is customer not reachable then create activity Day 2 Task 2.</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsReminderSet</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Priority</field>
            <value>
                <stringValue>Normal</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ReminderDateTime</field>
            <value>
                <elementReference>DueDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>{!LeadNumberFromPreviousTask} - Day 2 - Task 2</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskNumber__c</field>
            <value>
                <numberValue>4.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskType__c</field>
            <value>
                <stringValue>Day 2 - Task 2</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhoId</field>
            <value>
                <elementReference>$Record.WhoId</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>CustomNotificationTypeID</name>
        <label>Custom Notification Type ID</label>
        <locationX>1985</locationX>
        <locationY>1294</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>SendNotificationToManager</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>MasterLabel</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SLA Is Breached</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CustomNotificationType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetAgentQueueId</name>
        <label>Get Agent Queue Id</label>
        <locationX>1997</locationX>
        <locationY>700</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>IsCustomerResponseIsNull</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Agent Queue</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getLeadRelatedToSMTask</name>
        <label>Get Lead Related To SM Task</label>
        <locationX>1247</locationX>
        <locationY>317</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>CheckIfManualCreation</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OwnerId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.WhoId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Lead</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetLeadRelatedToTheTask</name>
        <label>Get Lead Related To The Task</label>
        <locationX>1897</locationX>
        <locationY>935</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>AddManagerId</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OwnerId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.WhoId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Lead</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetLeadStatus</name>
        <label>Get Lead Status</label>
        <locationX>954</locationX>
        <locationY>512</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>EmailLanguage</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OwnerId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.WhoId</elementReference>
            </value>
        </filters>
        <object>Lead</object>
        <outputReference>LeadRecord</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>LanguagePreference__c</queriedFields>
        <queriedFields>MobileCountryCode__c</queriedFields>
        <queriedFields>FirstName</queriedFields>
        <queriedFields>LastName</queriedFields>
        <queriedFields>LeadNumber__c</queriedFields>
        <queriedFields>OwnerId</queriedFields>
        <queriedFields>Project__c</queriedFields>
        <queriedFields>MobileNumber1__c</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>MobilePhone</queriedFields>
        <queriedFields>Status</queriedFields>
        <queriedFields>Email</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>To Get Tasks that&apos;s created in same day</description>
        <name>GetTasksInSameDay</name>
        <label>Get Tasks In Same Day</label>
        <locationX>464</locationX>
        <locationY>1859</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>IncreaseCount</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WhoId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.WhoId</elementReference>
            </value>
        </filters>
        <filters>
            <field>OwnerId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.OwnerId</elementReference>
            </value>
        </filters>
        <filters>
            <field>ActivityDate</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Today</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>SMCustomNotificationId</name>
        <label>SM Custom Notification Id</label>
        <locationX>923</locationX>
        <locationY>152</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>SendSMNotification</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SMDirectAssignment</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>CustomNotificationType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>To update task number for previous task</description>
        <name>Update_Task_Number</name>
        <label>Update Task Number</label>
        <locationX>666</locationX>
        <locationY>2675</locationY>
        <connector>
            <targetReference>UpdateLeadTaskType</targetReference>
        </connector>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskNumber__c</field>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateLeadOwner</name>
        <label>Update Lead Owner</label>
        <locationX>1621</locationX>
        <locationY>1414</locationY>
        <connector>
            <targetReference>UpdateTaskToClosed</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GetLeadRelatedToTheTask.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Call_Status__c</field>
            <value>
                <elementReference>$Record.Call_Status__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CustomerResponseTimeStamp__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CustomerResponse__c</field>
            <value>
                <elementReference>$Record.CustomerResponse__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>GetAgentQueueId.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateLeadOwner_0</name>
        <label>Update Lead Owner</label>
        <locationX>1770</locationX>
        <locationY>1424</locationY>
        <connector>
            <targetReference>UpdateLeadOwner</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>GetLeadRelatedToTheTask.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>AssignmentStatus__c</field>
            <value>
                <stringValue>Transferred</stringValue>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateLeadStatusToInProgress</name>
        <label>Update Lead Status To In Progress</label>
        <locationX>1339</locationX>
        <locationY>3284</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LeadRecord.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>In Progress Lead</stringValue>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateLeadTaskType</name>
        <label>Update Lead Task Type</label>
        <locationX>976</locationX>
        <locationY>3015</locationY>
        <connector>
            <targetReference>LeadStatus</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LeadRecord.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Call_Status__c</field>
            <value>
                <elementReference>$Record.Call_Status__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CustomerResponseTimeStamp__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CustomerResponse__c</field>
            <value>
                <elementReference>$Record.CustomerResponse__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskType__c</field>
            <value>
                <elementReference>TaskType</elementReference>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateTaskAsCompleted1</name>
        <label>Update Task As Completed</label>
        <locationX>1078</locationX>
        <locationY>955</locationY>
        <connector>
            <targetReference>TaskType1_0_0_0</targetReference>
        </connector>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsReminderSet</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ReminderDateTime</field>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskNumber__c</field>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>UpdateTaskToClosed</name>
        <label>Update Task To Closed</label>
        <locationX>1397</locationX>
        <locationY>1414</locationY>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsReminderSet</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ReminderDateTime</field>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TaskNumber__c</field>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>1595</locationX>
        <locationY>406</locationY>
        <connector>
            <targetReference>IsCustomerNotReachable</targetReference>
        </connector>
        <filterLogic>(1 AND 2) OR 3</filterLogic>
        <filters>
            <field>TaskNumber__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>TaskNumber__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <numberValue>3.0</numberValue>
            </value>
        </filters>
        <filters>
            <field>TaskNumber__c</field>
            <operator>EqualTo</operator>
            <value>
                <numberValue>9.0</numberValue>
            </value>
        </filters>
        <object>Task</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <scheduledPaths>
            <name>IsSLABreached</name>
            <connector>
                <targetReference>GetAgentQueueId</targetReference>
            </connector>
            <label>IsSLABreached?</label>
            <offsetNumber>0</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ReminderDateTime</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <scheduledPaths>
            <name>SMTask</name>
            <connector>
                <targetReference>SMTask1</targetReference>
            </connector>
            <label>SM Task</label>
            <offsetNumber>0</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>CreatedDate</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>SLANotificationTemplate</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>SLA is breached for a task, Lead Number: {!GetLeadRelatedToTheTask.LeadNumber__c}</text>
    </textTemplates>
    <textTemplates>
        <name>SMNotificationBodyTemplate</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>New Lead {!getLeadRelatedToSMTask.LeadNumber__c} Assigned To You.</text>
    </textTemplates>
    <textTemplates>
        <name>SMSBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Dear {!LeadRecord.Name},Thank you for your interest in Aldar properties. We have attempted to contact you on {!LeadRecord.MobilePhone} regarding your interest in {!LeadRecord.Project__c}. Please do let us know a suitable timeframe during which we should contact you. For further assistance, please do not hesitate to contact us on 800-25327.</text>
    </textTemplates>
    <textTemplates>
        <name>SMSMSBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Dear, New Lead Assigned To you. Lead Name: {!getLeadRelatedToSMTask.FirstName} {!getLeadRelatedToSMTask.LastName}, Lead Number: {!getLeadRelatedToSMTask.LeadNumber__c}.</text>
    </textTemplates>
    <textTemplates>
        <name>WhatsAppLink</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>https://wa.me/+97180025327?text=Hello, I&apos;m interested in {!LeadRecord.Project__c} and I would like to know more about the project. My reference number is {!LeadRecord.LeadNumber__c}</text>
    </textTemplates>
    <textTemplates>
        <name>WhatsAppLinkSMS</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Thank you for registering your interest with Aldar. We have attempted to contact you on {!LeadRecord.MobilePhone} to follow up on your interest in {!LeadRecord.Project__c}.Call us back on 800-ALDAR (25327) or To chat with us via WhatsApp, please click here</text>
    </textTemplates>
    <variables>
        <name>BusinessHoursName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <stringValue>Aldar Contact Center</stringValue>
        </value>
    </variables>
    <variables>
        <name>DueDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>LeadRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Lead</objectType>
    </variables>
    <variables>
        <name>MobileNumberWithCountryCode</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>NotificationSMRecipientIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>RecipientID</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>to store Task 2 information</description>
        <name>Task2Object</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Task</objectType>
    </variables>
    <variables>
        <name>TasksCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>1</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>TaskType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
