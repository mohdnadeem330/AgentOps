<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>65.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <decisions>
        <name>Check_for_Doc_type_Handover_Certificate</name>
        <label>Check for Doc type Handover Certificate</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_Handover_Certificate_uploaded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DocumentType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Handover Certificate</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Uploaded</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedById</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Label.RETL_ONB_IntegrationUserId</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Push_Notification_to_tenant_to_sign_Handover_certificate</targetReference>
            </connector>
            <label>If Handover Certificate uploaded</label>
        </rules>
        <rules>
            <name>Check_for_Document_Status_signed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Signed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedById</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Label.RETL_ONB_IntegrationUserId</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Push_Notification_to_tenant_For_Final_Copy_of_Handover_Certificate</targetReference>
            </connector>
            <label>Check for Document Status signed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Integration_User</name>
        <label>Check for Integration User</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_Integration_user</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Integration_User_Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Setup.RETL_Setting__c.RETL_Tenant_Push_Notifications__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_Stage_Name</targetReference>
            </connector>
            <label>If Integration user</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_NOC_and_tennat_Email</name>
        <label>Check for NOC and tennat Email</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Check_if_NOC_Document_Upload</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DocumentType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>NOC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Push_Notifiaction</targetReference>
            </connector>
            <label>Check if NOC Document Upload</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_NOC_Doc_on_MEP_Design</name>
        <label>Check for NOC Doc on MEP Design</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Outcome_1_of_Check_for</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DocumentType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>TAQA NOC</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Push_Notification_for_NOC_Uploaded_and_TAQA_Approval_Required</targetReference>
            </connector>
            <label>Outcome 1 of Check for</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_RDD_Kit_Upload</name>
        <label>Check for RDD Kit Upload</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_RDD_Document_Uploaded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Label.RETL_ONB_RDD_Kit_Document</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>$Record.DocumentType__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Push_Notication_that_RDD_Kit_Document_uploaded</targetReference>
            </connector>
            <label>If RDD Document Uploaded</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Stage_Name</name>
        <label>Check for Stage Name</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Kick_Off_Stage</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RETL_Stage__r.RETL_Stage_Developer_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Kick_Off</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedById</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Get_Integration_User_Id.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Uploaded</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_RDD_Kit_Upload</targetReference>
            </connector>
            <label>Kick Off Stage</label>
        </rules>
        <rules>
            <name>Conceptual_Design</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RETL_Stage__r.RETL_Stage_Developer_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Conceptual_Design</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedById</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Get_Integration_User_Id.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Uploaded</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_if_Tenant_Upload_Municipality_Document</targetReference>
            </connector>
            <label>Conceptual Design</label>
        </rules>
        <rules>
            <name>MEP_Design</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RETL_Stage__r.RETL_Stage_Developer_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>MEP_Design</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedById</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Get_Integration_User_Id.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Uploaded</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_NOC_Doc_on_MEP_Design</targetReference>
            </connector>
            <label>MEP Design</label>
        </rules>
        <rules>
            <name>Unit_Handover</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.RETL_Stage__r.RETL_Stage_Developer_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Unit_Handover</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CreatedById</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Get_Integration_User_Id.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_Doc_type_Handover_Certificate</targetReference>
            </connector>
            <label>Unit Handover</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Tenant_Upload_Municipality_Document</name>
        <label>Check if Tenant Uploaded Municipality Document</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Check_for_NOC_and_tennat_Email</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Municipality_Document_Uploaded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DocumentType__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Municipality Building Permit</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Push_Not_to_Upload_MEP_Document</targetReference>
            </connector>
            <label>Municipality Document Uploaded</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>notBodyForFinalHandoverCertificate</name>
        <dataType>String</dataType>
        <expression>&quot;The final copy of your Handover Certificate has been signed and is now available. Please review it at your convenience.&quot;</expression>
    </formulas>
    <formulas>
        <name>notBodyToSendHandoverToTenant</name>
        <dataType>String</dataType>
        <expression>&quot;The Handover Certificate has been uploaded and awaits your signature. Please review and sign to continue.&quot;</expression>
    </formulas>
    <formulas>
        <name>notForNOCDocumentAndTAQAApproval</name>
        <dataType>String</dataType>
        <expression>&quot;Your NOC document has been uploaded by the RDD Manager. Please review the details and proceed by uploading the TAQA approval for the electrical and firefighting drawings.&quot;</expression>
    </formulas>
    <formulas>
        <name>notforTAQAApproval</name>
        <dataType>String</dataType>
        <expression>&quot;Your next step is to upload the TAQA approval for electrical and firefighting drawings.&quot;</expression>
    </formulas>
    <formulas>
        <name>notificationBodyForRDDKit</name>
        <dataType>String</dataType>
        <expression>&quot;The RDD Manager has uploaded the &quot; &amp; TEXT({!$Record.DocumentType__c}) &amp; &quot;. Please review the latest update.&quot;</expression>
    </formulas>
    <formulas>
        <name>notTitleForFinalHandoverCertificate</name>
        <dataType>String</dataType>
        <expression>&quot;Final Signed Handover Certificate&quot;</expression>
    </formulas>
    <formulas>
        <name>notTitleForNOCDocAndTAQAApproval</name>
        <dataType>String</dataType>
        <expression>&quot;NOC Uploaded – TAQA Approval Required&quot;</expression>
    </formulas>
    <formulas>
        <name>notTitleForRDDKit</name>
        <dataType>String</dataType>
        <expression>TEXT({!$Record.DocumentType__c})&amp;&quot;Uploaded!&quot;</expression>
    </formulas>
    <formulas>
        <name>notTitleForTAQAApproval</name>
        <dataType>String</dataType>
        <expression>&quot;TAQA Approval Required&quot;</expression>
    </formulas>
    <formulas>
        <name>notTitleToSendHandoverToTenant</name>
        <dataType>String</dataType>
        <expression>&quot;Unit Handover – Certificate Available for Signature&quot;</expression>
    </formulas>
    <formulas>
        <name>notTitleToUploadDetailedDesignDoc</name>
        <dataType>String</dataType>
        <expression>&quot;Upload Detailed Design Document&quot;</expression>
    </formulas>
    <formulas>
        <name>notTitleToUploadMEPDesing</name>
        <dataType>String</dataType>
        <expression>&quot;Upload MEP Design Document&quot;</expression>
    </formulas>
    <formulas>
        <name>notToUploadDetailedDesign</name>
        <dataType>String</dataType>
        <expression>&quot;Your next step is to upload the Detailed Design document. Kindly complete the upload to proceed.&quot;</expression>
    </formulas>
    <formulas>
        <name>notToUploadMEPDesignDoc</name>
        <dataType>String</dataType>
        <expression>&quot;Please upload the MEP Design document to proceed with your request.&quot;</expression>
    </formulas>
    <interviewLabel>RETL ONB Document Upload Push Notifications {!$Flow.CurrentDateTime}</interviewLabel>
    <label>RETL ONB Document Upload Push Notifications</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Integration_User_Id</name>
        <label>Get Integration User Id</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_for_Integration_User</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Username</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Label.RETL_Integration_Username</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Integration_User_Id</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RETL_Stage__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>Document__c</object>
        <recordTriggerType>Create</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <subflows>
        <name>Push_Notification_for_NOC_Uploaded_and_TAQA_Approval_Required</name>
        <label>Push Notification for NOC Uploaded and TAQA Approval Required</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <flowName>RETL_ServiceRequestCustomPushNotification</flowName>
        <inputAssignments>
            <name>CaseRecordId</name>
            <value>
                <elementReference>$Record.RETL_Stage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>notForNOCDocumentAndTAQAApproval</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationTitle</name>
            <value>
                <elementReference>notTitleForNOCDocAndTAQAApproval</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserEmail</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserName</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Account.Name</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Push_Notification_to_tenant_For_Final_Copy_of_Handover_Certificate</name>
        <label>Push Notification to tenant For Final Copy of Handover Certificate</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <flowName>RETL_ServiceRequestCustomPushNotification</flowName>
        <inputAssignments>
            <name>CaseRecordId</name>
            <value>
                <elementReference>$Record.RETL_Stage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>notBodyForFinalHandoverCertificate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationTitle</name>
            <value>
                <elementReference>notTitleForFinalHandoverCertificate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserEmail</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserName</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Account.Name</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Push_Notification_to_tenant_to_sign_Handover_certificate</name>
        <label>Push Notification to tenant to sign Handover certificate</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <flowName>RETL_ServiceRequestCustomPushNotification</flowName>
        <inputAssignments>
            <name>CaseRecordId</name>
            <value>
                <elementReference>$Record.RETL_Stage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>notBodyToSendHandoverToTenant</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationTitle</name>
            <value>
                <elementReference>notTitleToSendHandoverToTenant</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserEmail</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserName</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Account.Name</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Send_Push_Not_to_Upload_Detailed_Design_Document</name>
        <label>Send Push Not to Upload Detailed Design Document</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Check_for_NOC_and_tennat_Email</targetReference>
        </connector>
        <flowName>RETL_ServiceRequestCustomPushNotification</flowName>
        <inputAssignments>
            <name>CaseRecordId</name>
            <value>
                <elementReference>$Record.RETL_Stage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>notToUploadDetailedDesign</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationTitle</name>
            <value>
                <elementReference>notTitleToUploadDetailedDesignDoc</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserEmail</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserName</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Account.Name</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Send_Push_Not_to_Upload_MEP_Document</name>
        <label>Send Push Not to Upload MEP Document</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Send_Push_Not_to_Upload_Detailed_Design_Document</targetReference>
        </connector>
        <flowName>RETL_ServiceRequestCustomPushNotification</flowName>
        <inputAssignments>
            <name>CaseRecordId</name>
            <value>
                <elementReference>$Record.RETL_Stage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>notToUploadMEPDesignDoc</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationTitle</name>
            <value>
                <elementReference>notTitleToUploadMEPDesing</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserEmail</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserName</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Account.Name</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Send_Push_Notication_that_RDD_Kit_Document_uploaded</name>
        <label>Send Push Notication that RDD Kit Document uploaded</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <flowName>RETL_ServiceRequestCustomPushNotification</flowName>
        <inputAssignments>
            <name>CaseRecordId</name>
            <value>
                <elementReference>$Record.RETL_Stage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>notificationBodyForRDDKit</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationTitle</name>
            <value>
                <elementReference>notTitleForRDDKit</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserEmail</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserName</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Account.Name</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <subflows>
        <name>Send_Push_Notifiaction</name>
        <label>Send Push Notifiaction</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <flowName>RETL_ServiceRequestCustomPushNotification</flowName>
        <inputAssignments>
            <name>CaseRecordId</name>
            <value>
                <elementReference>$Record.RETL_Stage__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationBody</name>
            <value>
                <elementReference>notForNOCDocumentAndTAQAApproval</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>NotificationTitle</name>
            <value>
                <elementReference>notTitleForNOCDocAndTAQAApproval</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserEmail</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserId</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Email</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>UserName</name>
            <value>
                <elementReference>$Record.RETL_Stage__r.RETL_Service_RequestId__r.RETL_Tenant__r.Account.Name</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <name>RDDDocumentKit</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
