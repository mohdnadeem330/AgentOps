<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Encode_Id</name>
        <label>Encode Id</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>ECSS_EncodeIdHelper</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Assign_Constant_Link_Part</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recordIds</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>ECSS_EncodeIdHelper</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Intiate_screening_Case</name>
        <label>Intiate screening Case</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>tr_wc1__tr_automateScreening</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Check_Record_Type</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>enableMonitoring</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>enableNameTransposition</name>
        </inputParameters>
        <inputParameters>
            <name>objectType</name>
            <value>
                <stringValue>Account</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>worldCheckGroupId</name>
            <value>
                <elementReference>WorldCheckId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>tr_wc1__tr_automateScreening</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Intiate_screening_Case_seller</name>
        <label>Intiate screening Case seller</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>tr_wc1__tr_automateScreening</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Get_OLIs</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>enableMonitoring</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>enableNameTransposition</name>
        </inputParameters>
        <inputParameters>
            <name>objectType</name>
            <value>
                <stringValue>Account</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recordId</name>
            <value>
                <elementReference>$Record.Seller__c</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>worldCheckGroupId</name>
            <value>
                <elementReference>WorldCheckId</elementReference>
            </value>
        </inputParameters>
        <nameSegment>tr_wc1__tr_automateScreening</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Notify_Opp_Owner_for_Clearance</name>
        <label>Notify Opp Owner for Clearance</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>RT_Check</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recipientAddresses</name>
            <value>
                <collectionElements>
                    <elementReference>$Record.Owner.Email</elementReference>
                </collectionElements>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderType</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue>OrgWideEmailAddress</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderAddress</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue>noreply@aldar.com</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>composeEmailContent</name>
            <value>
                <stringValue>True</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <stringValue>Opportunity Compliance Clearance done</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue>Opportunity ({!$Record.Name}) has been cleared for compliance</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>relatedRecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
                <inputConfiguratorMode>Resource</inputConfiguratorMode>
            </value>
        </inputParameters>
        <inputParameters>
            <name>logEmailOnSend</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
        <versionString>2.0.1</versionString>
    </actionCalls>
    <actionCalls>
        <name>Send_Closure_Email</name>
        <label>Send Closure Email</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>recipientAddresses</name>
            <value>
                <collectionElements>
                    <elementReference>RecepientEmails</elementReference>
                </collectionElements>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderAddress</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue>noreply@aldar.com</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>composeEmailContent</name>
            <value>
                <stringValue>True</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <stringValue>Opportunity Status</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue>Opportunity ({!$Record.Name}) has been closed as won</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>relatedRecordId</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue></stringValue>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
        <versionString>2.0.1</versionString>
    </actionCalls>
    <actionCalls>
        <description>Sends Email to customer</description>
        <name>Send_Link_To_Upload_Document</name>
        <label>Send Link To Upload Document</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>Send_Push_Notification_to_customer</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailAddresses</name>
            <value>
                <elementReference>$Record.Account.Email__c</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderType</name>
            <value>
                <stringValue>OrgWideEmailAddress</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderAddress</name>
            <value>
                <stringValue>noreply@aldar.com</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>useEmailTemplate</name>
            <value>
                <stringValue>True</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailTemplateId</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue>{!getEmailTemplateId.Id}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>recipientId</name>
            <value>
                <elementReference>$Record.Contact__r.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>relatedRecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>logEmailOnSend</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
        <versionString>1.0.1</versionString>
    </actionCalls>
    <actionCalls>
        <description>Sends Email to customer</description>
        <name>Send_Link_To_Upload_Document_Commercial</name>
        <label>Send Link To Upload Document Commercial</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <connector>
            <targetReference>Assign_Opp_Dates</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailAddresses</name>
            <value>
                <elementReference>$Record.Account.Email__c</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderType</name>
            <value>
                <stringValue>OrgWideEmailAddress</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderAddress</name>
            <value>
                <stringValue>noreply@aldar.com</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>composeEmailContent</name>
            <value>
                <stringValue>True</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <stringValue>Opportunity Required Documents</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <inputConfiguratorMode>Custom</inputConfiguratorMode>
                <stringValue>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Please click on the link below to upload pending Documents: {!FinalUploadDocumentLink}&lt;/span&gt;&lt;/p&gt;</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>relatedRecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>logEmailOnSend</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
        <offset>0</offset>
        <versionString>1.0.1</versionString>
    </actionCalls>
    <actionCalls>
        <name>Send_Push_Notification_to_customer</name>
        <label>Send Push Notification to customer</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>CustomerPushNotificationWebservice</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Assign_Opp_Dates</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>notificationARBody</name>
            <value>
                <stringValue>Please submit the required documents so we can continue processing your lease.</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationARTitle</name>
            <value>
                <stringValue>Submit necessary documents</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationBody</name>
            <value>
                <stringValue>Please submit the required documents so we can continue processing your lease.</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationClickAction</name>
            <value>
                <stringValue>fcm.ACTION.NOTIF</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationFunctionalRecordId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationFunctionalSubType</name>
            <value>
                <elementReference>$Record.Leasing_Asset__c</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationFunctionalType</name>
            <value>
                <stringValue>MANUEL_LEASING_SUBMIT_DOC</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationFunctionalUnitName</name>
            <value>
                <elementReference>$Record.Leasing_Asset__r.Name</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationMessageType</name>
            <value>
                <stringValue>transactional</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationSubAppType</name>
            <value>
                <stringValue>PRO</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationTitle</name>
            <value>
                <stringValue>Submit necessary documents</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationType</name>
            <value>
                <stringValue>NOTIFICATION</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationUserEmail</name>
            <value>
                <elementReference>$Record.Account.PersonEmail</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationUserId</name>
            <value>
                <elementReference>$Record.Account.PersonEmail</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>notificationUserName</name>
            <value>
                <elementReference>$Record.Account.Name</elementReference>
            </value>
        </inputParameters>
        <nameSegment>CustomerPushNotificationWebservice</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <name>Submit_for_Approval</name>
        <label>Submit for Approval</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>submit</actionName>
        <actionType>submit</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>objectId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>processDefinitionNameOrId</name>
            <value>
                <stringValue>ECSS_Sales_Secondary_Change_in_SD</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>skipEntryCriteria</name>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputParameters>
        <nameSegment>submit</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Submit_Unit_for_Approval</name>
        <label>Submit Unit for Approval</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <actionName>submit</actionName>
        <actionType>submit</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>objectId</name>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>processDefinitionNameOrId</name>
            <value>
                <stringValue>ECSS_Secondary_New_Unit_Approval</stringValue>
            </value>
        </inputParameters>
        <nameSegment>submit</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>64.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Asset_Ids</name>
        <label>Assign Asset Ids</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>AssetIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Asset_Ids_Loop.ECSS_Asset__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Asset_Ids_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Bank_Approval_type</name>
        <label>Assign Bank Approval type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Bank Approval</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Bank Approval</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Bank_Approval_type_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Bank_Approval_type_to_Collection</name>
        <label>Assign Bank Approval type to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Documents_for_Secondary_Market</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_BuyeKYC_Found</name>
        <label>Assign BuyeKYC Found</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>buyerKYC</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Lopp_Owner_Documents</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Buyer_Ids</name>
        <label>Assign Buyer Ids</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>AccountIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Buyers_Loop.ECSS_Owned_By__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Buyers_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Buyer_Signed_KYC</name>
        <label>Assign Buyer - Signed KYC</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>buyerKYC</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Documents_Signed_KYC</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Constant_Link_Part</name>
        <label>Assign Constant Link Part</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>ECSS_Opportunity_DocUpload_StaticLink</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Label.ECSS_Upload_Site_Link</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Required_Doc_Upload_Link</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_EID_and_Visa_type</name>
        <label>Assign EID and Visa type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Emirates ID Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Visa &amp; Emirates ID</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_EID_and_Visa_type_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_EID_and_Visa_type_Collection</name>
        <label>Assign EID and Visa type Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Passport_type_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Emails</name>
        <label>Assign Emails</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>RecepientEmails</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Emails_Loop.Email__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Emails_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opp</name>
        <label>Assign Opp</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>$Record.ECSS_FormSubmitted__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.ECSS_NotifyCustomerOnDocUpload__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.ECSS_SLA_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SLATime</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending Customer</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opp_Dates</name>
        <label>Assign Opp - Dates</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>$Record.ECSS_Link_Expiry_On__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>LinkExpiry</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Record.ECSS_Link_Generated_On__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssignAssetStatus</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opp_Documents_Created_Commercial</name>
        <label>Assign Opp - Documents Created- Commercial</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>$Record.ECSS_Documents_Created__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toCheckSendEmail</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opp_Documents_Created_Residential</name>
        <label>Assign Opp - Documents Created- Residential</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>$Record.ECSS_Documents_Created__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toCheckSendEmail</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Passport_type_to_Collection</name>
        <label>Assign Passport type to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Title_Deed_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Passport_type_to_Collection_org</name>
        <label>Assign Passport type to Collection org</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Title_Deed_type_org</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Passport_type_type</name>
        <label>Assign Passport type type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Passport Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Passport</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Passport_type_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Passport_type_type_org</name>
        <label>Assign Passport type type org</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Authorized signatory passport</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Passport &amp; ID of authorized signatory</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Passport_type_to_Collection_org</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Required_Doc_Upload_Link</name>
        <label>Assign Required Doc Upload Link</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>recordID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>FinalUploadDocumentLink</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>ECSS_Opportunity_DocUpload_StaticLink</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>FinalUploadDocumentLink</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Encode_Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_opp_record_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Secondary_Opp_Documents_Created</name>
        <label>Assign Secondary Opp - Documents Created</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>$Record.ECSS_Documents_Created__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toCheckSendEmail</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Seller_Signed_KYC</name>
        <label>Assign Seller - Signed KYC</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>sellerKYC</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Documents_Signed_KYC</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_SPA_Document</name>
        <label>Assign SPA Document</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>SPA</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Document_Record_Type_ID_SPA.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>SPA</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_SPA_Doc</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Title_Deed_type</name>
        <label>Assign Title Deed type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Title Deed Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Title Deed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Title_Deed_type_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Title_Deed_type_org</name>
        <label>Assign Title Deed type org</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Title Deed Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Title Deed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Title_Deed_type_to_Collection_org</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Title_Deed_type_to_Collection</name>
        <label>Assign Title Deed type to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Bank_Approval_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Title_Deed_type_to_Collection_org</name>
        <label>Assign Title Deed type to Collection org</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Trade_License_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Trade_License_type</name>
        <label>Assign Trade License type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Trade License</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Trade License</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Trade_License_type_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Trade_License_type_to_Collection</name>
        <label>Assign Trade License type to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_VAT_Certificate_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_VAT_Certificate_type</name>
        <label>Assign VAT Certificate type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>VAT Certificate</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>VAT  - VAT Registration Certificate / VAT Exemption Certificate</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_VAT_Certificate_type_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_VAT_Certificate_type_to_Collection</name>
        <label>Assign VAT Certificate type to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Documents_for_Secondary_Market</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assignCount_and_Ids</name>
        <label>assignCount and Ids</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>countJointOwners</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>jointOwnerIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Loop_Joint_Owners.Account__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Joint_Owners</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_toAssign_POP_type</name>
        <label>toAssign Emirates ID Copy type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Emirates ID Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Passport copy Emirates ID</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Emirates_ID_Copy_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_toAssign_Salary_Certificate_type</name>
        <label>toAssign POP type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>POP</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Security Deposit and TAF POP</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_POP_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Count_Joint_Owner_Doc</name>
        <label>Count Joint Owner Doc</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>countKYCDocument</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Lopp_Owner_Documents</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>to_Assign_Commission_Cheque</name>
        <label>to Assign Commission Cheque</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Commission Cheque</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Commission Cheque</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Document_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_ADM_DLD_Documents</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>to_Assign_Title_Deed</name>
        <label>to Assign Title Deed</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Title Deed Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Title Deed</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Document_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>to_Assign_Commission_Cheque</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Authorized_signatory_to_Collection</name>
        <label>toAssign Authorized signatory to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Copy_1_of_toAssign_POP_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Authorized_signatory_type</name>
        <label>toAssign Authorized signatory type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Authorized signatory</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Authorized signatory</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Authorized_signatory_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Bank_Statement_to_Collection</name>
        <label>toAssign Bank Statement to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_VISA_type_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Bank_Statement_type</name>
        <label>toAssign Bank Statement type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Bank Statement</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>3 months</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Bank_Statement_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_credit_score_type</name>
        <label>toAssign credit score type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Credit score</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Etihad Bureau</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssignCreditScore_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Emirates_ID_Copy_Collection</name>
        <label>toAssign Emirates ID Copy Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_VISA_Copy_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Memorandum_of_Association_to_Collection</name>
        <label>toAssign Memorandum of Association to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_POA_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Memorandum_of_Association_type</name>
        <label>toAssign Memorandum of Association type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Memorandum of Association</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Memorandum of Association</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Memorandum_of_Association_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Passport_type_to_Collection</name>
        <label>toAssign Passport type to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Copy_1_of_toAssign_Salary_Certificate_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Passport_type_type</name>
        <label>toAssign Passport type type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Passport Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Passport</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Passport_type_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_POA_Collection</name>
        <label>toAssign POA Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssignCredit_score_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_POA_type</name>
        <label>toAssign POA type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>POA</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>POA</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_POA_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_POP_Collection</name>
        <label>toAssign POP Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Documents_Records</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Salary_Certificate_Collection</name>
        <label>toAssign Salary Certificate Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Bank_Statement_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Salary_Certificate_type</name>
        <label>toAssign Salary Certificate type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Salary Certificate</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Salary</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Salary_Certificate_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_TAF_POP_Collection</name>
        <label>toAssign TAF POP Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Documents_for_Commercial_Records</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_TAF_POP_type</name>
        <label>toAssign TAF POP  type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>POP</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Security Deposit and TAF POP</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_TAF_POP_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Trade_License_type</name>
        <label>toAssign Trade License type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Trade License</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Copy of Trade license OR Trade Name along with 3-month bank statement</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Trade_License_type_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_Trade_License_type_Collection</name>
        <label>toAssign Trade License type Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Authorized_signatory_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_VISA_Copy_to_Collection</name>
        <label>toAssign VISA Copy to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_TAF_POP_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_VISA_Copy_type</name>
        <label>toAssign VISA Copy type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Residence Visa</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>All owners names along with Partners Emirates ID, Visa Copy</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_VISA_Copy_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_VISA_type_Collection</name>
        <label>toAssign VISA type Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Passport_type_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssign_VISA_type_type</name>
        <label>toAssign VISA type type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Residence Visa</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Visa &amp; Emirates ID</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_VISA_type_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssignAssetStatus</name>
        <label>toAssignAssetStatus</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>assetStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Hold</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Opp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssignAssetStatusToUnderOffer</name>
        <label>toAssignAssetStatusToUnderOffer</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>assetStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Under Offer</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity_Under_Offer</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssignCredit_score_to_Collection</name>
        <label>toAssignCredit score to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Trade_License_type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssignCredit_score_type</name>
        <label>toAssignCredit score type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>currentDocument.DocumentType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Credit score</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_Required__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.ECSS_SubType__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Company</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Record_Type_ID.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>currentDocument.Status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssignCredit_score_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>toAssignCreditScore_to_Collection</name>
        <label>toAssignCreditScore to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>finalDocs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>currentDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>toAssign_Salary_Certificate_type</targetReference>
        </connector>
    </assignments>
    <constants>
        <name>ECSS_DocUpload_Static_Url</name>
        <dataType>String</dataType>
    </constants>
    <customErrors>
        <name>Cannot_update_Security_Deposit_Cheque_Returned</name>
        <label>Cannot update Security Deposit Cheque Returned</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <customErrorMessages>
            <errorMessage>Cannot update Security Deposit Cheque Returned without uploading Title Deed and Commission Cheque</errorMessage>
            <fieldSelection>ECSS_Security_Deposit_Cheque_Returned__c</fieldSelection>
            <isFieldError>true</isFieldError>
        </customErrorMessages>
    </customErrors>
    <customErrors>
        <name>Copy_1_of_KYC_Error</name>
        <label>KYC Error</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <customErrorMessages>
            <errorMessage>Missing Buyer or Joint Owners Signed KYC.</errorMessage>
            <isFieldError>false</isFieldError>
        </customErrorMessages>
    </customErrors>
    <customErrors>
        <name>KYC_Error</name>
        <label>KYC Error</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <customErrorMessages>
            <errorMessage>Missing Seller or Buyer Signed KYC.</errorMessage>
            <isFieldError>false</isFieldError>
        </customErrorMessages>
    </customErrors>
    <decisions>
        <name>Account_Type_Check</name>
        <label>Account Type Check</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Assign_Passport_type_type_org</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Organization</defaultConnectorLabel>
        <rules>
            <name>Person</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.RecordTypeName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Person Account</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Residency_check</targetReference>
            </connector>
            <label>Person</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Account</name>
        <label>Check Account</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Loop_Documents_Signed_KYC</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Seller</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Documents_Signed_KYC.Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Record.Seller__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Seller__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Seller_Signed_KYC</targetReference>
            </connector>
            <label>Seller</label>
        </rules>
        <rules>
            <name>Buyer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Loop_Documents_Signed_KYC.Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Record.AccountId</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Buyer_Signed_KYC</targetReference>
            </connector>
            <label>Buyer</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Account_Off_Plan</name>
        <label>Check Account</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Lopp_Owner_Documents</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Buyer_off</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Lopp_Owner_Documents.Account__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Record.AccountId</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_BuyeKYC_Found</targetReference>
            </connector>
            <label>Buyer</label>
        </rules>
        <rules>
            <name>Account_in_Joint_Owners</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>jointOwnerIds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>Lopp_Owner_Documents.Account__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Count_Joint_Owner_Doc</targetReference>
            </connector>
            <label>Account in Joint Owners</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Approver</name>
        <label>Check Approver</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Owner_Manager_Filled</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Owner.ManagerId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Owner.ManagerId</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Submit_for_Approval</targetReference>
            </connector>
            <label>Owner Manager Filled</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Existing_Screening_Case</name>
        <label>Check for Existing Screening Case</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Intiate_screening_Case</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.Primary_Screening_Case__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_OGS_Enabled</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_for_Existing_Screening_Case_seller</name>
        <label>Check for Existing Screening Case seller</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Intiate_screening_Case_seller</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes2</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Seller__r.Primary_Screening_Case__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Seller__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_OGS_Enabled_seller</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_KYC</name>
        <label>Check KYC</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Update_Opp_Compliance_In_Progress_Off</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>not_found</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>buyerKYC</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>countKYCDocument</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>countJointOwners</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_KYC_Error</targetReference>
            </connector>
            <label>not found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_opp_record_type</name>
        <label>Check opp record type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Check_Unit_Usage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Secondary_Market_Outcome</name>
            <conditionLogic>(1 OR 3) AND 2</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Secondary</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Documents_Created__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Off</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Account_Type_Check</targetReference>
            </connector>
            <label>Secondary Market Outcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Opp_Type</name>
        <label>Check Opp Type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Secondary_KYC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Documents</targetReference>
            </connector>
            <label>Secondary</label>
        </rules>
        <rules>
            <name>Off_Plan</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_OffPlan</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Joint_Owners</targetReference>
            </connector>
            <label>Off Plan</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Recipients</name>
        <label>Check Recipients</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>commercial_or_residential</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Empty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.Email__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Opp_Dates</targetReference>
            </connector>
            <label>Empty</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Record_Type</name>
        <label>Check Record Type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>IsSecondaryMarket</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Secondary</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_Existing_Screening_Case_seller</targetReference>
            </connector>
            <label>IsSecondaryMarket</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_Seller_and_Buyer_KYC</name>
        <label>check Seller and Buyer KYC</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>RecordTypeDecision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Signed_KYC_missing</name>
            <conditionLogic>(1 OR 2) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>sellerKYC</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>buyerKYC</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_OffPlan</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>KYC_Error</targetReference>
            </connector>
            <label>Signed KYC missing</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Unit_Usage</name>
        <label>Check Unit Usage</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Is_Residential</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PropertyUsage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Residential Lease</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Documents_Created__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>toAssign_credit_score_type</targetReference>
            </connector>
            <label>Is Residential</label>
        </rules>
        <rules>
            <name>Is_Commercial</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PropertyUsage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Commercial</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Documents_Created__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>toAssign_Memorandum_of_Association_type</targetReference>
            </connector>
            <label>Is Commercial</label>
        </rules>
    </decisions>
    <decisions>
        <name>commercial_or_residential</name>
        <label>commercial or residential</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>commerical</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PropertyUsage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Commercial</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Link_To_Upload_Document_Commercial</targetReference>
            </connector>
            <label>commerical</label>
        </rules>
        <rules>
            <name>Residential</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.PropertyUsage__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Residential Lease</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Send_Link_To_Upload_Document</targetReference>
            </connector>
            <label>Residential</label>
        </rules>
    </decisions>
    <decisions>
        <name>Documents_Returned</name>
        <label>Documents Returned</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Close_Opportunity_As_Won</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>More_than_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Title_Deed_and_Commission_Docs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Title_Deed_and_Commission_Docs</leftValueReference>
                <operator>IsEmpty</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Cannot_update_Security_Deposit_Cheque_Returned</targetReference>
            </connector>
            <label>More than 0</label>
        </rules>
    </decisions>
    <decisions>
        <name>Email_check_on_user</name>
        <label>Email check on user</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>RT_Check</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Email_Exists_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Owner.Email</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Notify_Opp_Owner_for_Clearance</targetReference>
            </connector>
            <label>Email Exists Outcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>end_Check_opp_record_type</name>
        <label>end Check opp record type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>toGetRelatedQuotes</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Secondary_Market_Outcome1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Secondary</stringValue>
                </rightValue>
            </conditions>
            <label>Secondary Market Outcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_OGS_Enabled</name>
        <label>Is OGS Enabled</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Update_OGS_to_True</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.Primary_Screening_Case__r.tr_wc1__Monitoring_Enabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Record_Type</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_OGS_Enabled_seller</name>
        <label>Is OGS Enabled seller</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Update_OGS_to_True_seller</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Seller__r.Primary_Screening_Case__r.tr_wc1__Monitoring_Enabled__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_OLIs</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>RecordTypeDecision</name>
        <label>RecordTypeDecision</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SecondaryMarketOutcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Secondary</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opp_Generate_MoU</targetReference>
            </connector>
            <label>SecondaryMarketOutcome</label>
        </rules>
        <rules>
            <name>OffPlanOutcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Off</stringValue>
                </rightValue>
            </conditions>
            <label>OffPlanOutcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>Residency_check</name>
        <label>Residency check</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Assign_Passport_type_type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Resident_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.ResidentStatus__pc</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Resident</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_EID_and_Visa_type</targetReference>
            </connector>
            <label>Resident Outcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>RT_Check</name>
        <label>RT Check</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Secondary_Market_Outcome2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Secondary</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SM_next_stage</targetReference>
            </connector>
            <label>Secondary Market Outcome</label>
        </rules>
        <rules>
            <name>Offplan_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Off</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>OP_next_stage</targetReference>
            </connector>
            <label>Offplan Outcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>Title_Deed_Check</name>
        <label>Title Deed Check</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>to_Assign_Commission_Cheque</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Deed_not_found</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_title_Deed</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_title_Deed</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>to_Assign_Title_Deed</targetReference>
            </connector>
            <label>Deed not found</label>
        </rules>
    </decisions>
    <decisions>
        <name>toCheckChangeType</name>
        <label>toCheckChangeType</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Pending_Customer_Change</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending Customer</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Record_Type_ID</targetReference>
            </connector>
            <label>Pending Customer Change</label>
        </rules>
        <rules>
            <name>UnderOffer_Change</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Under Offer</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>toAssignAssetStatusToUnderOffer</targetReference>
            </connector>
            <label>UnderOffer Change</label>
        </rules>
        <rules>
            <name>In_Progress_Change</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>In Progress</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunites</targetReference>
            </connector>
            <label>In Progress Change</label>
        </rules>
        <rules>
            <name>Secondary_Unit_Creation_Pendong</name>
            <conditionLogic>1 AND 2 AND (3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_New_Unit_Approval__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_New_Unit_Approval__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_OffPlan</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Submit_Unit_for_Approval</targetReference>
            </connector>
            <label>Secondary - Unit Creation Pendong</label>
        </rules>
        <rules>
            <name>Secondary_Unit_Creation_Approved</name>
            <conditionLogic>1 AND 2 AND (3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_New_Unit_Approval__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_New_Unit_Approval__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Approved</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_OffPlan</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Opportunity_Products</targetReference>
            </connector>
            <label>Secondary - Unit Creation Approved</label>
        </rules>
        <rules>
            <name>Secondary_Unit_Creation_Rejected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_New_Unit_Approval__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_New_Unit_Approval__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rejected</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Opportunity_Products_Rejected</targetReference>
            </connector>
            <label>Secondary - Unit Creation Rejected</label>
        </rules>
        <rules>
            <name>Secondary_KYC_Reviewed</name>
            <conditionLogic>(1 OR 4) AND 2 AND 3 AND (5 OR 6)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_KYC_Reviewed__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_KYC_Reviewed__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_OffPlan</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>KYC in Progress</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Developer Registration in Progress</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Opp_Type</targetReference>
            </connector>
            <label>Secondary - KYC Reviewed</label>
        </rules>
        <rules>
            <name>Secondary_Skip_MoU</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Skip_MoU__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Skip_MoU__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opp_Compliance_in_Progress</targetReference>
            </connector>
            <label>Secondary - Skip MoU</label>
        </rules>
        <rules>
            <name>Secondary_Compliance_in_Progress</name>
            <conditionLogic>(1 OR 4) AND 2 AND 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Compliance In Progress</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>off</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_Existing_Screening_Case</targetReference>
            </connector>
            <label>Secondary - Compliance in Progress</label>
        </rules>
        <rules>
            <name>Compliance_Clearance_Check</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_ComplianceClearance__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_ComplianceClearance__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Compliance In Progress</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Email_check_on_user</targetReference>
            </connector>
            <label>Compliance Clearance Check</label>
        </rules>
        <rules>
            <name>Secondary_Security_Deposit_Changed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending Security Cheque</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Security_Deposit__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Security_Deposit__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>10.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Approver</targetReference>
            </connector>
            <label>Secondary - Security Deposit Changed</label>
        </rules>
        <rules>
            <name>Secondary_ADM_DLD_Meeting</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ADM/DLD Meeting in progress</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Document_Record_Type_ID</targetReference>
            </connector>
            <label>Secondary - ADM/DLD Meeting</label>
        </rules>
        <rules>
            <name>Secondary_Security_Cheque_Returned</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_Security_Deposit_Cheque_Returned__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_Security_Deposit_Cheque_Returned__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Get_Document_Record_Type_ID</targetReference>
            </connector>
            <label>Secondary - Security Cheque Returned</label>
        </rules>
        <rules>
            <name>Pending_SPA_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending SPA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Off</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Document_Record_Type_ID_SPA</targetReference>
            </connector>
            <label>Pending SPA Outcome</label>
        </rules>
        <rules>
            <name>ClosedWon_Outcome</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ECSS_RecordType_DevName__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ECSS_SecondaryMarket</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetOppProduct</targetReference>
            </connector>
            <label>ClosedWon Outcome</label>
        </rules>
    </decisions>
    <decisions>
        <name>toCheckSendEmail</name>
        <label>toCheckSendEmail</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>toAssignAssetStatus</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>toSendAnEmail</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ECSS_NotifyCustomerOnDocUpload__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>getEmailTemplateId</targetReference>
            </connector>
            <label>toSendAnEmail</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>LinkExpiry</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime}+(VALUE({!$Label.ECSS_Link_Expiry_Hours}) / 24)</expression>
    </formulas>
    <formulas>
        <name>SLATime</name>
        <dataType>DateTime</dataType>
        <expression>{!$Flow.CurrentDateTime} +1</expression>
    </formulas>
    <formulas>
        <name>WorldCheckId</name>
        <dataType>String</dataType>
        <expression>IF(
  CONTAINS({!$Record.ECSS_Company__r.Name}, &quot;Asteco&quot;),
  $Label.Estates_Group_WorldCheck,
  $Label.Colliers_Group_WorldCheck
)</expression>
    </formulas>
    <interviewLabel>ECSS: Opportunity After Update {!$Flow.CurrentDateTime}</interviewLabel>
    <label>ECSS: Opportunity After Update</label>
    <loops>
        <name>Asset_Ids_Loop</name>
        <label>Asset Ids Loop</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>GetOppProduct</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Asset_Ids</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Assets</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Buyers_Loop</name>
        <label>Buyers Loop</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>Get_Assets</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Buyer_Ids</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Accounts</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Emails_Loop</name>
        <label>Emails Loop</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>Get_Accounts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Emails</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Send_Closure_Email</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Documents_Signed_KYC</name>
        <label>Loop Documents - Signed KYC</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>Get_Documents</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Account</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>check_Seller_and_Buyer_KYC</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Joint_Owners</name>
        <label>Loop Joint Owners</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>Get_Joint_Owners</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>assignCount_and_Ids</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Joint_Owner_Documents</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Lopp_Owner_Documents</name>
        <label>Lopp Owner Documents</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>Get_Joint_Owner_Documents</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Account_Off_Plan</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_KYC</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_ADM_DLD_Documents</name>
        <label>Create ADM/DLD Documents</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <inputReference>finalDocs</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Documents_for_Commercial_Records</name>
        <label>Create Documents for Commercial Records</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Assign_Opp_Documents_Created_Commercial</targetReference>
        </connector>
        <inputReference>finalDocs</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Documents_for_Secondary_Market</name>
        <label>Create Documents for Secondary Market</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Assign_Secondary_Opp_Documents_Created</targetReference>
        </connector>
        <inputReference>finalDocs</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Documents_Records</name>
        <label>Create Documents Records</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Assign_Opp_Documents_Created_Residential</targetReference>
        </connector>
        <inputReference>finalDocs</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_SPA_Doc</name>
        <label>Create SPA Doc</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_OLIs_OP</targetReference>
        </connector>
        <inputReference>currentDocument</inputReference>
    </recordCreates>
    <recordLookups>
        <name>Copy_1_of_Get_Document_Record_Type_ID</name>
        <label>Copy 1 of Get Document Record Type ID</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Title_Deed_and_Commission_Docs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ECSS Unit Document</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Accounts</name>
        <label>Get Accounts</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Emails_Loop</targetReference>
        </connector>
        <filterLogic>(1 AND 2) OR 3</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>AccountIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>Email__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Assets</name>
        <label>Get Assets</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Buyers_Loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>AssetIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Asset</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Document_Record_Type_ID</name>
        <label>Get Document Record Type ID</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_title_Deed</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ECSS Unit Document</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Document_Record_Type_ID_SPA</name>
        <label>Get Document Record Type ID</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_SPA_Document</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ECSS Unit Document</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Documents</name>
        <label>Get Documents</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Documents_Signed_KYC</targetReference>
        </connector>
        <filterLogic>(1 OR 2) AND 3 AND 4</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Seller__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>DocumentType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Signed KYC Form</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Uploaded</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Document__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Joint_Owner_Documents</name>
        <label>Get Joint Owner Documents</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Lopp_Owner_Documents</targetReference>
        </connector>
        <filterLogic>(1 OR 4) AND 2 AND 3</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>In</operator>
            <value>
                <elementReference>jointOwnerIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>DocumentType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Signed KYC Form</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Uploaded</stringValue>
            </value>
        </filters>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Document__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Joint_Owners</name>
        <label>Get Joint Owners</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Joint_Owners</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>JointOwner__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_OLIs</name>
        <label>Get OLIs</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Map_all_assets</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_OLIs_OP</name>
        <label>Get OLIs OP</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Map_all_assets_OP</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunities</name>
        <label>Get Opportunities</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Opportunities_Ids</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ExistingOpportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_Products</name>
        <label>Get Opportunity Products</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_AssetIds</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ECSS_Unit_Creation_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pending Manager Approval</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_Products_Rejected</name>
        <label>Get Opportunity Products</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_AssetIds_Rejected</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ECSS_Unit_Creation_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pending Manager Approval</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Record_Type_ID</name>
        <label>Get Record Type ID</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Encode_Id</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ECSS Unit Document</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_title_Deed</name>
        <label>Get title Deed</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Title_Deed_Check</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Document_Record_Type_ID.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ECSS_SubType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Title Deed</stringValue>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>DocumentType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Title Deed Copy</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Document__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Title_Deed_and_Commission_Docs</name>
        <label>Get Title Deed and Commission Docs</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Documents_Returned</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3) AND 4 AND 5</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Copy_1_of_Get_Document_Record_Type_ID.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ECSS_SubType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Title Deed</stringValue>
            </value>
        </filters>
        <filters>
            <field>ECSS_SubType__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Commission Cheque</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Verified</stringValue>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Document__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>getEmailTemplateId</name>
        <label>getEmailTemplateId</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Recipients</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Live_Aldar_Submit_Documents_Email_Template</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>EmailTemplate</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>GetOppProduct</name>
        <label>GetOppProduct</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Asset_Ids_Loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>OpportunityLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>toGetRelatedOppItems</name>
        <label>toGetRelatedOppItems</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>toGetAssetIds</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>QuoteId</field>
            <operator>In</operator>
            <value>
                <elementReference>toGetQuoteIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>QuoteLineItem</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>toGetRelatedQuotes</name>
        <label>toGetRelatedQuotes</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>toGetQuoteIds</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Quote</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Close_Opportunity_As_Won</name>
        <label>Close Opportunity As Won</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Closed Won</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>OP_next_stage</name>
        <label>OP next stage</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_Document_Record_Type_ID_SPA</targetReference>
        </connector>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Pending SPA</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Set_Unit_Status_OP</name>
        <label>Set Unit Status OP</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>Map_all_assets_OP</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Booked</stringValue>
            </value>
        </inputAssignments>
        <object>Asset</object>
    </recordUpdates>
    <recordUpdates>
        <name>Set_Unit_Status_SM</name>
        <label>Set Unit Status SM</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>Map_all_assets</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Booked</stringValue>
            </value>
        </inputAssignments>
        <object>Asset</object>
    </recordUpdates>
    <recordUpdates>
        <name>SM_next_stage</name>
        <label>SM next stage</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Pending Security Cheque</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>toUpdateAssetStatusToVacant</name>
        <label>toUpdateAssetStatusToVacant</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>toGetAssetIds</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <elementReference>assetStatus</elementReference>
            </value>
        </inputAssignments>
        <object>Asset</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_New_Assets_Rejected</name>
        <label>Update New Assets Rejected</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>Get_AssetIds_Rejected</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>ECSS_Unit_Creation_Status__c</field>
            <value>
                <stringValue>Rejected</stringValue>
            </value>
        </inputAssignments>
        <object>Asset</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Neww_Asset</name>
        <label>Update New Asset</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>Get_AssetIds</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>ECSS_Unit_Creation_Status__c</field>
            <value>
                <stringValue>Approved</stringValue>
            </value>
        </inputAssignments>
        <object>Asset</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_OGS_to_True</name>
        <label>Update OGS to True</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Check_Record_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Account.Primary_Screening_Case__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>tr_wc1__Monitoring_Enabled__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>tr_wc1__KYC_Screening_Case__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_OGS_to_True_seller</name>
        <label>Update OGS to True seller</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_OLIs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Seller__r.Primary_Screening_Case__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>tr_wc1__Monitoring_Enabled__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>tr_wc1__KYC_Screening_Case__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opp_Compliance_in_Progress</name>
        <label>Update Opp - Compliance in Progress</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Check_for_Existing_Screening_Case</targetReference>
        </connector>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Compliance In Progress</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opp_Compliance_In_Progress_Off</name>
        <label>Update Opp - Compliance In Progress</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Check_for_Existing_Screening_Case</targetReference>
        </connector>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Compliance In Progress</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opp_Generate_MoU</name>
        <label>Update Opp - Generate MoU</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Generate MOU</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunites</name>
        <label>Update Opportunites</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Opportunities</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ExistingOpportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Under Offer</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity</name>
        <label>Update Opportunity</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>end_Check_opp_record_type</targetReference>
        </connector>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_Under_Offer</name>
        <label>Update Opportunity Under Offer</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>toGetRelatedQuotes</targetReference>
        </connector>
        <inputAssignments>
            <field>ECSS_SLA_Date__c</field>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Quotes</name>
        <label>Update Quotes</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>In</operator>
            <value>
                <elementReference>Get_Opportunities_Ids</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Cancelled</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Rejected</stringValue>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>In Progress</stringValue>
            </value>
        </inputAssignments>
        <object>Quote</object>
    </recordUpdates>
    <start>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>toCheckChangeType</targetReference>
        </connector>
        <filterLogic>( 1 AND 2 AND 3 AND 5 ) OR ( 3 AND 4 ) OR 6 OR (7 AND 8) OR 9</filterLogic>
        <filters>
            <field>ECSS_RecordType_DevName__c</field>
            <operator>Contains</operator>
            <value>
                <stringValue>ECSS</stringValue>
            </value>
        </filters>
        <filters>
            <field>ECSS_RecordType_DevName__c</field>
            <operator>Contains</operator>
            <value>
                <stringValue>Leas</stringValue>
            </value>
        </filters>
        <filters>
            <field>StageName</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ECSS_RecordType_DevName__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>ECSS_Parent</stringValue>
            </value>
        </filters>
        <filters>
            <field>ExistingOpportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ECSS_RecordType_DevName__c</field>
            <operator>Contains</operator>
            <value>
                <stringValue>ECSS_SecondaryMarket</stringValue>
            </value>
        </filters>
        <filters>
            <field>ECSS_Security_Deposit_Cheque_Returned__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ECSS_Security_Deposit_Cheque_Returned__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ECSS_RecordType_DevName__c</field>
            <operator>Contains</operator>
            <value>
                <stringValue>Off</stringValue>
            </value>
        </filters>
        <object>Opportunity</object>
        <recordTriggerType>Update</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <transforms>
        <name>Get_AssetIds</name>
        <label>Get AssetIds</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Update_Neww_Asset</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Get_Opportunity_Products[$EachItem].ECSS_Asset__c</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Get_AssetIds_Rejected</name>
        <label>Get AssetIds</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Update_New_Assets_Rejected</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Get_Opportunity_Products_Rejected[$EachItem].ECSS_Asset__c</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Get_Opportunities_Ids</name>
        <label>Get Opportunities Ids</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Update_Quotes</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Get_Opportunities[$EachItem].Id</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Map_all_assets</name>
        <label>Map all assets</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Set_Unit_Status_SM</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Get_OLIs[$EachItem].ECSS_Asset__c</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Map_all_assets_OP</name>
        <label>Map all assets OP</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Set_Unit_Status_OP</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Get_OLIs_OP[$EachItem].ECSS_Asset__c</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>toGetAssetIds</name>
        <label>toGetAssetIds</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>toUpdateAssetStatusToVacant</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>toGetRelatedOppItems[$EachItem].Asset__c</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>toGetQuoteIds</name>
        <label>toGetQuoteIds</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>toGetRelatedOppItems</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>toGetRelatedQuotes[$EachItem].Id</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <variables>
        <name>AccountIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>AssetIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>assetStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>buyerKYC</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>countJointOwners</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>countKYCDocument</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>currentDocument</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Document__c</objectType>
    </variables>
    <variables>
        <name>ECSS_Opportunity_DocUpload_StaticLink</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>finalDocs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Document__c</objectType>
    </variables>
    <variables>
        <name>FinalUploadDocumentLink</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>jointOwnerIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>RecepientEmails</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>sellerKYC</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
